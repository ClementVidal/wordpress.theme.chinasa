function chiBodyController(i,e,n,t){t.get("animAlreadyPlayed")||(t.put("animAlreadyPlayed","true"),$("#chi-sidebar").get(0).classList.add("chi-enlarge-anim"),$(".chi-sidebar-footer").get(0).classList.add("chi-footer-up-and-bounce-anim"),$(".chi-sidebar-logo").get(0).classList.add("chi-logo-up-and-bounce-anim")),attachSidebarFunction(i,e,n)}var chinasa=angular.module("chinasa",["duScroll","ngCookies","ngTouch"]);chinasa.controller("bodyController",chiBodyController);var attachSidebarFunction=function(i,e,n){function t(){i.$apply(function(){i.hideSidebar()})}i.sidebarVisible=!1,i.showSidebar=function(){i.sidebarVisible||(i.sidebarVisible=!0)},i.hideSidebar=function(){i.sidebarVisible&&(i.sidebarVisible=!1)},i.toggleSidebar=function(){i.sidebarVisible?i.sidebarVisible=!1:i.sidebarVisible=!0},e.$on("documentClicked",t),e.$on("escapePressed",t),n[0].addEventListener("keyup",function(i){27===i.keyCode&&e.$broadcast("escapePressed",i.target)}),n[0].addEventListener("click",function(i){e.$broadcast("documentClicked",i.target)})};chiBodyController.$inject=["$scope","$rootScope","$document","$cookies"],function(){"use strict";function i(i,e){return{restrict:"A",link:function(e,n,t,s){var c=i.innerHeight;c>n.height()&&n.innerHeight(c)}}}angular.module("chinasa").directive("chiResizeToFullScreen",i),i.$inject=["$window","$document"]}(),function(){"use strict";function i(){function i(){var i=[];i[0]=$(".chi-menu:first-child"),i[1]=$(".chi-menu:last-child");var e=function(i){var e=i.querySelector("a");e.setAttribute("href","javascript:void(0)"),e.style.cursor="default"},n=function(i){var e=i.querySelector("a");e.setAttribute("href",e.getAttribute("data-href-hidden")),e.style.cursor="initial"};i[0].on("show.bs.collapse",function(){e(this)}),i[0].on("hide.bs.collapse",function(){n(this)}),i[1].on("show.bs.collapse",function(){e(this)}),i[1].on("hide.bs.collapse",function(){n(this)}),"/"===window.location.pathname?(e(i[0].get(0)),i[0].get(0).querySelector("div").classList.add("in")):(e(i[1].get(0)),i[1].get(0).querySelector("div").classList.add("in"))}return{restrict:"E",template:"<div ng-class='{ \"chi-visible\": sidebarVisible }' ng-transclude></div>",transclude:!0,replace:!0,scope:{sidebarVisible:"="},link:i}}angular.module("chinasa").directive("chiSidebar",i),i.$inject=[]}(),function(){"use strict";function i(i,e){function n(n){var t=n.getBoundingClientRect(),s=i.innerHeight||e.documentElement.clientHeight;return t.top<=s&&t.bottom>0}return{restrict:"A",scope:{"class":"@chiClass"},link:function(e,t,s,c){angular.isDefined(e["class"])||(e["class"]="visible"),e.isVisible=!1,angular.element(i).on("load resize scroll",function(){var i=e.isVisible;e.isVisible=n(t[0]),i!==e.isVisible&&(e.isVisible?t.addClass(e["class"]):t.removeClass(e["class"]))})}}}angular.module("chinasa").directive("chiSmoothApparition",i),i.$inject=["$window","$document"]}(),function(){"use strict";function i(i,e){return{restrict:"A",link:function(e,n,t,s){var c=function(){var e=i.innerHeight-n[0].offsetTop;n.innerHeight(e)},a=angular.element(i);a.bind("resize",function(){c()}),c()}}}angular.module("chinasa").directive("chiSnapToViewportBottom",i),i.$inject=["$window","$document"]}();